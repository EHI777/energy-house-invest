<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rezerwacja – Energy House Invest</title>
  <meta name="description" content="Umów spotkanie lub złóż rezerwację. Energy House Invest – nowoczesne domy i segmenty z ogrodem." />
  <style>
    :root{
      --bg:#f5f7f9;
      --card:#ffffff;
      --text:#1f2937;
      --muted:#6b7280;
      --brand:#0c2e44;
      --brand-strong:#144e6e;
      --ok:#10b981;
      --error:#ef4444;
      --radius:14px;
      --shadow:0 10px 30px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
      color:var(--text); background:var(--bg);
    }
    header{
      background:linear-gradient(135deg,var(--brand),#173d53);
      color:#fff; text-align:center; padding:42px 16px;
    }
    header h1{margin:0 0 6px; font-weight:700; font-size:clamp(22px,3.2vw,32px)}
    header p{margin:0; opacity:.9}
    main{max-width:860px; margin:28px auto; padding:0 16px}
    .card{
      background:var(--card); border-radius:var(--radius); box-shadow:var(--shadow);
      padding:28px;
    }
    h2{margin:0 0 8px; font-size:clamp(20px,2.8vw,26px); color:var(--brand)}
    .lead{color:var(--muted); margin:0 0 24px}
    form{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    label{font-weight:600; font-size:14px; margin-bottom:6px; display:block}
    .field{display:flex; flex-direction:column}
    .field.full{grid-column:1 / -1}
    input, select, textarea{
      padding:12px 14px; border:1px solid #d1d5db; border-radius:10px; font-size:16px;
      background:#fff; outline:none; transition:border-color .2s, box-shadow .2s;
    }
    input:focus, select:focus, textarea:focus{
      border-color:var(--brand); box-shadow:0 0 0 4px rgba(12,46,68,.08);
    }
    textarea{min-height:120px; resize:vertical}
    .consent{grid-column:1 / -1; display:flex; gap:10px; align-items:flex-start; font-size:14px; color:var(--muted)}
    .consent input{margin-top:3px}
    button{
      grid-column:1 / -1;
      padding:14px 18px; border:none; border-radius:12px; cursor:pointer;
      background:var(--brand); color:#fff; font-size:17px; font-weight:700;
      transition:transform .05s, background .2s, box-shadow .2s; box-shadow:var(--shadow);
    }
    button:hover{background:var(--brand-strong)}
    button:active{transform:translateY(1px)}
    .note{margin-top:14px; color:var(--muted); font-size:14px; text-align:center}
    .alert{margin:18px 0 0; padding:14px; border-radius:12px; display:none}
    .alert.ok{background:#ecfdf5; color:#065f46; border:1px solid #a7f3d0}
    .alert.err{background:#fef2f2; color:#7f1d1d; border:1px solid #fecaca}
    .hidden{display:none !important}
    footer{color:var(--muted); text-align:center; font-size:13px; margin:18px 0}
    @media (max-width:720px){ form{grid-template-columns:1fr} }
  </style>
</head>
<body>
  <header>
    <h1>Energy House Invest</h1>
    <p>Umów spotkanie lub złóż rezerwację</p>
  </header>

  <main>
    <section class="card" aria-labelledby="t-form">
      <h2 id="t-form">Formularz rezerwacyjny</h2>
      <p class="lead">Wypełnij krótkie zgłoszenie – oddzwonimy maksymalnie w ciągu 24&nbsp;godzin.</p>

      <!-- komunikaty -->
      <div id="alert-ok" class="alert ok hidden" role="status" aria-live="polite">
        ✅ Dziękujemy! Twoja rezerwacja została wysłana. Skontaktujemy się wkrótce.
      </div>
      <div id="alert-err" class="alert err hidden" role="alert">
        ❌ Ups! Nie udało się wysłać formularza. Spróbuj ponownie lub zadzwoń: 605&nbsp;721&nbsp;464.
      </div>

      <form id="reserveForm" method="POST" action="https://formspree.io/f/xvgqjvbz" novalidate>
        <!-- honeypot (antyspam) -->
        <input type="text" name="_honey" tabindex="-1" autocomplete="off" class="hidden" />

        <div class="field">
          <label for="name">Imię i nazwisko</label>
          <input id="name" name="name" autocomplete="name" required />
        </div>

        <div class="field">
          <label for="phone">Telefon</label>
          <input id="phone" name="phone" type="tel" inputmode="tel"
                 pattern="^[0-9+\s-]{6,}$" placeholder="np. 605 721 464" required />
        </div>

        <div class="field">
          <label for="email">E-mail</label>
          <input id="email" name="email" type="email" autocomplete="email" required />
        </div>

        <div class="field">
          <label for="investment">Inwestycja</label>
          <select id="investment" name="investment" required>
            <option value="">— Wybierz —</option>
            <option>Osiedle Trzy Perły</option>
            <option>Dom pokazowy</option>
            <option>Mieszkania</option>
            <option>Inne</option>
          </select>
        </div>

        <div class="field full">
          <label for="message">Uwagi dodatkowe</label>
          <textarea id="message" name="message" placeholder="Np. preferowany termin spotkania"></textarea>
        </div>

        <div class="consent">
          <input id="consent" name="consent" type="checkbox" required />
          <label for="consent">
            Wyrażam zgodę na kontakt w celu przedstawienia oferty. Administratorem danych jest Energy House Invest. Dane wykorzystamy wyłącznie do obsługi zapytania.
          </label>
        </div>

        <!-- temat w mailu -->
        <input type="hidden" name="_subject" value="Nowa rezerwacja z energyhouseinvest.pl" />

        <button type="submit" id="sendBtn">Wyślij rezerwację</button>
        <p class="note">Wysyłając formularz akceptujesz naszą politykę prywatności.</p>
      </form>
    </section>

    <footer>
      © <span id="y"></span> Energy House Invest — Głogów
    </footer>
  </main>

  <script>
    // Aktualny rok w stopce
    document.getElementById('y').textContent = new Date().getFullYear();

    // Obsługa wysyłki przez AJAX (ładniejsze UX)
    (function () {
      const form = document.getElementById('reserveForm');
      const btn  = document.getElementById('sendBtn');
      const ok   = document.getElementById('alert-ok');
      const err  = document.getElementById('alert-err');

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        ok.classList.add('hidden'); err.classList.add('hidden');

        if (!form.checkValidity()) {
          form.reportValidity();
          return;
        }

        btn.disabled = true; btn.textContent = "Wysyłanie…";
        try {
          const data = new FormData(form);
          const res = await fetch(form.action, {
            method: "POST",
            headers: { "Accept": "application/json" },
            body: data
          });

          if (res.ok) {
            form.reset();
            ok.classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
          } else {
            err.classList.remove('hidden');
          }
        } catch (_) {
          err.classList.remove('hidden');
        } finally {
          btn.disabled = false; btn.textContent = "Wyślij rezerwację";
        }
      }, false);
    })();
  </script>
</body>
</html>
